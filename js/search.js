function setupSearchFunctionality(e,t,i){const n=document.getElementById("searchInput"),l=document.getElementById("searchBtn"),c=document.getElementById("articlesList");if(!n||!c)return;const a=l.querySelector(".search-icon"),o=l.querySelector(".clear-icon");function r(){const l=n.value;let a=createArticlesList(e,t,l,i);a=a.replace(/href="([^"]+)"/g,(e,t)=>t.includes(".html")||t.startsWith("#")?e:`href="${t}.html"`),a=a.replace(/ data-link(="")?/g,""),c.innerHTML=a}function u(){n.value.length>0?(a.style.display="none",o.style.display="block",l.setAttribute("aria-label","Cancella ricerca")):(a.style.display="block",o.style.display="none",l.setAttribute("aria-label","Cerca"))}n.addEventListener("input",()=>{r(),u()}),l.addEventListener("click",()=>{n.value&&(n.value="",r(),u(),document.querySelectorAll(".topic-chip").forEach(e=>{e.classList.remove("active")}))}),u()}function initSearch(){const e=window.location.pathname,t=e.split("/").pop()||"index.html";"articoli.html"===t||e.includes("/articoli")?"undefined"!=typeof ARTICLES&&setupSearchFunctionality(ARTICLES,"/articoli",!1):"pubblicazioni.html"===t||e.includes("/pubblicazioni")?"undefined"!=typeof PUBLICATIONS&&setupSearchFunctionality(PUBLICATIONS,"/pubblicazioni",!0):("in-evidenza.html"===t||e.includes("/in-evidenza"))&&"undefined"!=typeof FEATURED&&setupSearchFunctionality(FEATURED,"/in-evidenza",!1)}